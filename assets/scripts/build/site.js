/*! miguelmota.github.com 29-08-2017 */
!function(a){"use strict";var b=function(){};b.prototype.initializeGlobal=function(){FastClick.attach(document.body),$(document).on("click","[data-ga-label]",function(){window._gaq&&_gaq.push(["_trackEvent","Call To Action","Click",$(this).attr("data-ga-label")])}),$(document).ready(function(){this.initializeDisqusCommentCount()}.bind(this));var a="scroll.disqusCommentThread",b=function(b){var c=$("#disqus_thread");c.length&&$(window).scrollTop()+$(window).height()>=c.offset().top&&(this.initializeDisqusCommentThread(),$(window).off(a))}.bind(this);$(window).on(a,b),b(),this.initializeDetailsElement()},b.prototype.theme={stylesheet:document.getElementById("stylesheet"),stylesheets:["main.css","main-invert.css"],toggle:function(a){var b=this.stylesheet.getAttribute("href").split("/"),c=b.splice(b.length-1,1)[0],d=this.stylesheets.indexOf(c),e=this.stylesheets[!d>>>0];return a&&(d=this.stylesheets.indexOf(a),d>-1&&(e=a,d=!d)),b.push(e),b=b.join("/"),stylesheet.href=b,this.setIcon(d),this.save(e),e},load:function(){try{var a=localStorage.getItem("theme");a&&this.toggle(a)}catch(b){return console.error(b),!1}},save:function(a){try{return localStorage.setItem("theme",a)}catch(b){return console.error(b),!1}},setIcon:function(a){var b=["fa-sun-o","fa-moon-o"],c=document.querySelector(".theme-toggle-icon");c.classList.remove(b[a>>>0]),c.classList.add(b[!a>>>0])}},b.prototype.initializeDisqusCommentCount=function(){if("string"==typeof disqus_shortname){var a=document.createElement("script");a.async=!0,a.type="text/javascript",a.src="//"+disqus_shortname+".disqus.com/count.js",document.getElementsByTagName("head")[0].appendChild(a)}},b.prototype.initializeDisqusCommentThread=function(){if("string"==typeof disqus_shortname){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="//"+disqus_shortname+".disqus.com/embed.js",document.getElementsByTagName("head")[0].appendChild(a)}},b.prototype.initializeHome=function(){},b.prototype.initializeAbout=function(){},b.prototype.initializeResume=function(){},b.prototype.initializeDetailsElement=function(){var a=window.location.hash.substr(1);if(a){var b=$("details#"+a);b.length&&(b.attr("open","open"),$("html,body").scrollTop(b.offset().top-$(".header").outerHeight(!0)))}$(document).on("click","details[id]",function(){var a=$(this).attr("id");window.location.hash.substr(1)===a?history.pushState("",document.title,window.location.pathname+window.location.search):window.location.hash=a}),"open"in document.createElement("details")||($("details").addClass("polyfill"),$(document).on("click","summary",function(a){var b=$(this),c=b.parent();c.attr("open")?c.removeAttr("open"):c.attr("open","open")}))},b.prototype.initializeBlog=function(){},b.prototype.initializeBytes=function(){},b.prototype.initializeWork=function(){},b.prototype.initializeContact=function(){this.initializeContactMap()},b.prototype.initializeContactMap=function(){function a(){var a,b,c,d,e,f,g,h,i,j={losAngeles:[34.0452,-118.284],riverside:[33.7643995,-116.7037845,9],orangeCounty:[33.6670191,-117.7646826],veniceBeach:[33.988973,-118.462617]};c=new google.maps.LatLng(j.veniceBeach[0],j.veniceBeach[1]),d={zoom:5,center:c,mapTypeId:google.maps.MapTypeId.ROADMAP,animation:google.maps.Animation.DROP,scrollwheel:!1,draggable:!0,disableDefaultUI:!0},a=new google.maps.Map(document.querySelector(".map"),d),e=[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{color:"#000000"},{lightness:13}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#144b53"},{lightness:14},{weight:1.4}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#08304b"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#0c4152"},{lightness:5}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#0b434f"},{lightness:25}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#000000"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#0b3d51"},{lightness:16}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"transit",elementType:"all",stylers:[{color:"#146474"}]},{featureType:"water",elementType:"all",stylers:[{color:"#021019"}]}],a.setOptions({styles:e}),f=new google.maps.MarkerImage("/assets/images/map/map-marker.png"),g=new google.maps.MarkerImage("/assets/images/map-marker-shadow.png",new google.maps.Size(52,34),new google.maps.Point(0,0),new google.maps.Point(10,30)),b=new google.maps.Marker({position:c,map:a,title:"",shadow:g,icon:f}),i=$(".contact-map-content").html(),h=new google.maps.InfoWindow({content:i}),h=new InfoBox({content:i,disableAutoPan:!1,maxWidth:200,pixelOffset:new google.maps.Size(-100,0),zIndex:null,position:new google.maps.LatLng(34.0452,-118.284),boxStyle:{background:'url("/assets/images/map/map-tipbox-top.gif") no-repeat',opacity:.75,width:"200px"},closeBoxMargin:"12px 2px 4px 2px",closeBoxURL:"/assets/images/map/map-close-icon.png",infoBoxClearance:new google.maps.Size(1,1),isHidden:!1,alignBottom:!1,pane:"floatPane"}),h.open(a,b);var k=function(){a.setCenter(c),a.setZoom(10),h.open(a,b)};google.maps.event.addListener(b,"click",k),$(document).on("click","[data-location]",k)}a(),$(document).on("click","[data-alert] .close",function(a){a.preventDefault(),$(this).parent().css({display:"none"})}),$(document).on("submit",".contact-form",function(a){a.preventDefault();var b=$(this),c=b.serialize();b.find('[type="submit"]').attr("disabled","disabled"),b.find("input.error, textarea.error").removeClass("error"),b.find("small.error").css("display","none"),b.find("[data-alert]").css("display","none").removeClass("success"),$.ajax({url:b.attr("action"),type:"POST",dataType:"json",data:c,complete:function(a,c){b.find('[type="submit"]').removeAttr("disabled")},success:function(a,c,d){var e=null,f=null,g=null,h=null,i=null;if(window._gaq&&_gaq.push(["_trackEvent","Forms","Submission","Contact"]),a.status_code&&(e=parseInt(a.status_code)),500==e&&a.error&&(g=a.error,b.find("[data-alert] .message").html(g),b.find("[data-alert]").addClass("alert").css("display","block")),400==e&&a.errors){h=a.errors;for(i in h)b.find('[name="'+i+'"]').addClass("error"),b.find('small.error[for="'+i+'"]').html(h[i]).css("display","block");b.find("input.error, textarea.error").eq(0).focus()}200==e&&(a.message&&(f=a.message),b.find("[data-alert] .message").html(f),b.find("[data-alert]").removeClass("alert").addClass("success").css("display","block"),b.find('input[type="text"], input[type="email"], textarea').val(""))},error:function(a,c,d){b.find("[data-alert] .message").html("Sorry, an error occured."),b.find("[data-alert]").addClass("alert").css("display","block")}})})};var c=new b;$(document).ready(function(){c.initializeGlobal();var a=$("body").attr("class");c.theme.load(),"home"===a?c.initializeHome():"about"===a?c.initializeAbout():"resume"===a?c.initializeResume():"blog"===a||"archive"===a?c.initializeBlog():"bytes"===a?c.initializeBytes():"work"===a?c.initializeWork():"contact"===a&&c.initializeContact(),$(document).on("click",".input-short-url input",function(){$(this).select()}),$(document).on("click",".theme-toggle",function(a){a.preventDefault(),c.theme.toggle()})}),a.site=c}(this);